import{a as s,_ as d}from"./config-4096d6dc.js";import{i as g}from"./navbar-bd5379fb.js";import{S as i}from"./sweetalert2.all-1988d671.js";/* empty css                */console.log("suc");const p=document.querySelector(".searchBarBtn"),l=document.querySelector("#checkIn"),e=document.querySelector("#checkOut"),u=document.querySelector("#roomType");let n=u.getAttribute("data-value");const _=document.querySelector("body"),y=document.querySelector("#catRoomInput_roomType"),$=document.querySelector("#selectType");_.addEventListener("click",r=>{r.stopPropagation(),$.classList.remove("show")});y.addEventListener("click",r=>{r.stopPropagation(),$.classList.toggle("show")});const k=document.querySelectorAll(".optionType");k.forEach(r=>{r.addEventListener("click",a=>{const o=a.target.value;u.innerHTML=`<p>${o}</p>`,u.setAttribute("data-value",o),n=o,console.log(u)})});p.addEventListener("click",function(r){if(e.value==""||l.value==""||n=="請選擇"){i.fire("您尚未選擇入住或退房時間或選擇房型");return}else if(e.value<=l.value){i.fire("退房日期需晚於入住日期"),e.value="",l.value="";return}else n=="經典房"?s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(o.forEach(function(c){c.availableCount.classic<=0&&(t+=`${c.date} `)}),t!==""){i.fire(`${t}已無空房，請重新選擇`),e.value="",l.value="",n="";return}f()}):n=="精緻房"?s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(o.forEach(function(c){c.availableCount.delicate<=0&&(t+=`${c.date} `)}),t!==""){i.fire(`${t}已無空房，請重新選擇`),e.value="",l.value="",n="";return}f()}):n=="豪華房"&&s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(o.forEach(function(c){c.availableCount.luxury<=0&&(t+=`${c.date} `)}),t!==""){i.fire(`${t}已無空房，請重新選擇`),e.value="",l.value="",n="";return}f()})});p.addEventListener("click",function(r){if(e.value==""||l.value==""||n=="請選擇"){i.fire("您尚未選擇入住或退房時間或選擇房型"),u.innerHTML='<p style="color: #ced4da">請選擇</p>',console.log("請填寫入住日期、退房日期與選擇房型");return}else if(e.value<=l.value){i.fire("退房日期需晚於入住日期"),console.log("退房日期需晚於入住日期"),e.value="",l.value="",u.innerHTML='<p style="color: #ced4da">請選擇</p>';return}else n=="經典房"?(console.log("經典房"),s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(console.log(o),o.forEach(function(c){c.availableCount.classic<=0&&(t+=`${c.date} `)}),console.log(t),t!==""){e.value="",l.value="",n="",u.innerHTML='<p style="color: #ced4da">請選擇</p>';return}f()})):n=="精緻房"?(console.log("精緻房"),s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(console.log(o),o.forEach(function(c){c.availableCount.delicate<=0&&(t+=`${c.date} `)}),console.log(t),t!==""){e.value="",l.value="",n="",u.innerHTML='<p style="color: #ced4da">請選擇</p>';return}f()})):n=="豪華房"&&(console.log("豪華房"),s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(console.log(o),o.forEach(function(c){c.availableCount.luxury<=0&&(t+=`${c.date} `)}),t!==""){e.value="",l.value="",n="",u.innerHTML='<p style="color: #ced4da">請選擇</p>';return}f()}))});function f(){let r=[],a={};a.checkIn=l.value,a.checkOut=e.value,a.roomType=n,console.log(a),r.push(a);let o=JSON.stringify(r);console.log(o),sessionStorage.setItem("indexBooking",o),n=="經典房"&&g("./bookingClassicProcess_1.html"),n=="精緻房"&&g("./bookingDelicateProcess_1.html"),n=="豪華房"&&g("./bookingLuxProcess_1.html")}let v=new Date,h=v.getFullYear();console.log(h);console.log(v.getDate());console.log(v.getMonth()+1);let m=`${h}-${v.getMonth()+1}-${v.getDate()}`;console.log(m);flatpickr("#checkIn",{enableTime:!1,dateFormat:"Y-m-d",minDate:m,maxDate:"2024-02-29"});flatpickr("#checkOut",{enableTime:!1,dateFormat:"Y-m-d",minDate:m,maxDate:"2024-02-29"});
