import{a as r,_ as s}from"./config-4096d6dc.js";import{S as c}from"./sweetalert2.all-1988d671.js";function i(t){if(!localStorage.getItem("userTokenAndData"))window.location.href="./login.html";else{const e=JSON.parse(localStorage.getItem("userTokenAndData")).accessToken,a=JSON.parse(localStorage.getItem("userTokenAndData")).user;r.get(`${s}/600/users/${a.id}`,{headers:{authorization:`Bearer ${e}`}}).then(o=>{if(console.log(o),t){window.location.href=t;return}}).catch(o=>{console.log(o),c.mixin({customClass:{confirmButton:"btn btn-custom-confirm",cancelButton:"btn btn-custom-cancel"},buttonsStyling:!1}).fire({title:"登入時間已到期 請重新登入後再執行一次",icon:"error",confirmButtonText:"確定"}).then(m=>{localStorage.removeItem("userTokenAndData"),window.location.href="./login.html"})})}}const n=document.getElementById("memberFunction");document.getElementById("memberData");document.getElementById("catData");document.getElementById("navBookingHistory");n.addEventListener("click",t=>{t.preventDefault();const e=n.getAttribute("href");i(e)});export{i};
