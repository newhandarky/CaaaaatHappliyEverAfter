import{a as n,_ as i}from"./config-4096d6dc.js";import{S as a}from"./sweetalert2.all-1988d671.js";function u(t){const o={};t==="jwt expired"&&a.fire({title:"您的帳號登入已逾時, 請重新登入",input:"email",inputLabel:"您的帳號",inputPlaceholder:"Enter your email address"}).then(({value:e})=>(o.email=e,a.fire({title:"請輸入您的密碼",input:"password",inputLabel:"Password",inputPlaceholder:"Enter your password",inputAttributes:{maxlength:"20",autocapitalize:"off",autocorrect:"off"}}))).then(({value:e})=>{o.password=e,l(o)})}function l(t){n.post(`${i}/login`,t).then(function(o){console.log(o),o.data.user.role==="admin"?(console.log(o.data),localStorage.setItem("userRole",o.data.user.role),localStorage.setItem("userName",o.data.user.name),localStorage.setItem("userLoginToken",o.data.accessToken),location.reload()):(console.log("非管理員"),a.fire({title:"你是誰?",text:"你怎麼會來這裡?",icon:"info",confirmButtonColor:"#3085d6"}).then(e=>{e.isConfirmed&&(location="index.html")}))}).catch(function(o){console.log(o.response)})}export{u as r};
