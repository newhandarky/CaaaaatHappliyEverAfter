import{S as e,a as i,_ as s}from"./sweetalert2.all-203b6da2.js";import"./admin_header-cdcf5a9d.js";import{h as a}from"./admin_config-2cf1d757.js";import{r as m}from"./loginIsTimeUp-b8b3d4c8.js";location.href.split("=")[1];const l=document.querySelector(".roomName"),u=document.querySelector(".roomPrice"),n=document.querySelector(".roomUrl"),f=document.querySelector(".previewImage"),d=document.querySelector(".roomImage"),p=document.querySelector(".roomFacilities"),w=document.querySelector(".addNewRoomForm"),h=document.querySelector(".cancelAddNewRoomBtn");h.addEventListener("click",function(t){t.preventDefault(),e.fire({title:"是否要取消新增",icon:"warning",showCancelButton:!0,confirmButtonColor:"#20c997",cancelButtonColor:"#dc3545",confirmButtonText:'<span class="text-white fs-4 px-1">是</span>',cancelButtonText:'<span class="text-white fs-4 px-1">否</span>'}).then(o=>{o.isConfirmed&&(e.fire({title:"已取消新增",icon:"success",showConfirmButton:!1}),setTimeout(()=>{window.location.href="./admin_rooms.html"},1e3))})});w.addEventListener("submit",function(t){t.preventDefault();let o={name:l.value,imageUrl:n.value,state:"",quantity:"",price:Number(u.value),facility:p.value.split(","),size:[105,145,300]};e.fire({title:"是否確定新增",icon:"warning",showCancelButton:!0,confirmButtonColor:"#20c997",cancelButtonColor:"#dc3545",confirmButtonText:'<span class="text-white fs-4 px-1">是</span>',cancelButtonText:'<span class="text-white fs-4 px-1">否</span>'}).then(r=>{r.isConfirmed&&i.post(`${s}/660/rooms`,o,a).then(function(){e.fire({title:"房型新增成功",icon:"success",showConfirmButton:!1}),setTimeout(()=>{window.location.href="./admin_rooms.html"},1e3)}).catch(function(c){m(c.response.data)})})});f.addEventListener("click",B);function B(){d.setAttribute("src",n.value)}
