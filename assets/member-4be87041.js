import{a as I,_ as b}from"./config-1ccbba12.js";import{i as p}from"./navbar-0e9c41dc.js";import"./aside-ba2dede9.js";const B=document.querySelectorAll("#memberData");B.forEach(t=>{t.classList.add("onThisPage")});const f=JSON.parse(localStorage.getItem("userTokenAndData")),{accessToken:x,user:C}=f,$=document.getElementById("signout"),c=document.getElementById("editMember");function k(){const t=C.id;I.get(`${b}/600/users/${t}`,{headers:{authorization:`Bearer ${x}`}}).then(e=>{const{name:o,gender:n,birthday:m,address:d,phone:s,email:a,userPhoto:r}=e.data,i=document.getElementById("name"),l=document.getElementById("gender"),g=document.getElementById("birthday"),u=document.getElementById("address"),h=document.getElementById("phone"),y=document.getElementById("email"),D=document.getElementById("photo"),E=()=>n==="male"?"男 ":n==="female"?"女 ":n==="other"?"其他 ":"未定義";console.log(o,n,m,d,s,a,r),i.textContent=o,l.textContent=`性別： ${E()}`,g.textContent=`生日： ${m}`,u.textContent=`地址： ${d}`,h.textContent=`電話： ${s}`,y.textContent=`信箱：${a}`,D.setAttribute("src",r||"https://i.imgur.com/rUTLxZC.jpg")}).catch(e=>{console.log(e),alert(e),window.location.href="./login.html"})}k();$.addEventListener("click",()=>{localStorage.removeItem("userTokenAndData"),window.location.href="./index.html"});c.addEventListener("click",t=>{t.preventDefault();const e=c.getAttribute("href");p(e)});
