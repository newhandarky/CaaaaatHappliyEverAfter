import{a as i,_ as r}from"./config-33b8f4bf.js";import{S as a}from"./sweetalert2.all-029eceb1.js";const s=document.querySelector(".welcome"),c=document.querySelector(".logout"),m=document.querySelector(".adminLogin"),t=document.querySelector(".adminAccount");document.querySelector(".loginTimeOut");let o={};m.addEventListener("click",function(){u(o)});t.addEventListener("change",function(){t.value==1052?(o.email="userTest052@gmail.com",o.password="userTest052"):t.value==1053?(o.email="userTest053@gmail.com",o.password="userTest053"):t.value==1054?(o.email="userTest054@gmail.com",o.password="userTest054"):t.value==1055&&(o.email="userTest055@gmail.com",o.password="userTest055")});c.addEventListener("click",function(){a.mixin({toast:!0,position:"center-center",showConfirmButton:!1,timer:1200,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",a.stopTimer),e.addEventListener("mouseleave",a.resumeTimer)}}).fire({icon:"success",title:"您已成功登出"}),localStorage.clear(),location="index.html"});function l(){localStorage.getItem("userName")===null?s.innerHTML="":s.innerHTML=`登入人員 : ${localStorage.getItem("userName")} 歡迎您回來`}function u(n){i.post(`${r}/login`,{email:n.email,password:n.password}).then(function(e){console.log(e),localStorage.setItem("userLoginToken",e.data.accessToken),e.data.user.role==="admin"?(console.log(e.data),localStorage.setItem("userRole",e.data.user.role),localStorage.setItem("userName",e.data.user.name),localStorage.setItem("userLoginToken",e.data.accessToken)):location="index.html",l()}).catch(function(e){console.log(e.response)})}window.onload=function(){l()};
