import{S as i,a as s,_ as d}from"./sweetalert2.all-203b6da2.js";import{i as g}from"./navbar-96c5072d.js";/* empty css                */console.log("suc");const p=document.querySelector(".searchBarBtn"),l=document.querySelector("#checkIn"),e=document.querySelector("#checkOut"),r=document.querySelector("#roomType");let n=r.getAttribute("data-value");const _=document.querySelector("body"),y=document.querySelector("#catRoomInput_roomType"),$=document.querySelector("#selectType");_.addEventListener("click",u=>{u.stopPropagation(),$.classList.remove("show")});y.addEventListener("click",u=>{u.stopPropagation(),$.classList.toggle("show")});const k=document.querySelectorAll(".optionType");k.forEach(u=>{u.addEventListener("click",a=>{const o=a.target.value;r.innerHTML=`<p>${o}</p>`,r.setAttribute("data-value",o),n=o,console.log(r)})});p.addEventListener("click",function(u){if(e.value==""||l.value==""||n=="請選擇"){i.fire("您尚未選擇入住或退房時間或選擇房型");return}else if(e.value<=l.value){i.fire("退房日期需晚於入住日期"),e.value="",l.value="";return}else n=="經典房"?s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(o.forEach(function(c){c.availableCount.classic<=0&&(t+=`${c.date} `)}),t!==""){i.fire(`${t}已無空房，請重新選擇`),e.value="",l.value="",n="";return}f()}):n=="精緻房"?s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(o.forEach(function(c){c.availableCount.delicate<=0&&(t+=`${c.date} `)}),t!==""){i.fire(`${t}已無空房，請重新選擇`),e.value="",l.value="",n="";return}f()}):n=="豪華房"&&s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(o.forEach(function(c){c.availableCount.luxury<=0&&(t+=`${c.date} `)}),t!==""){i.fire(`${t}已無空房，請重新選擇`),e.value="",l.value="",n="";return}f()})});p.addEventListener("click",function(u){if(e.value==""||l.value==""||n=="請選擇"){i.fire("您尚未選擇入住或退房時間或選擇房型"),r.innerHTML='<p style="color: #ced4da">請選擇</p>',console.log("請填寫入住日期、退房日期與選擇房型");return}else if(e.value<=l.value){i.fire("退房日期需晚於入住日期"),console.log("退房日期需晚於入住日期"),e.value="",l.value="",r.innerHTML='<p style="color: #ced4da">請選擇</p>';return}else n=="經典房"?(console.log("經典房"),s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(console.log(o),o.forEach(function(c){c.availableCount.classic<=0&&(t+=`${c.date} `)}),console.log(t),t!==""){e.value="",l.value="",n="",r.innerHTML='<p style="color: #ced4da">請選擇</p>';return}f()})):n=="精緻房"?(console.log("精緻房"),s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(console.log(o),o.forEach(function(c){c.availableCount.delicate<=0&&(t+=`${c.date} `)}),console.log(t),t!==""){e.value="",l.value="",n="",r.innerHTML='<p style="color: #ced4da">請選擇</p>';return}f()})):n=="豪華房"&&(console.log("豪華房"),s.get(`${d}/roomStates?date_gte=${l.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(a){let o=a.data,t="";if(console.log(o),o.forEach(function(c){c.availableCount.luxury<=0&&(t+=`${c.date} `)}),t!==""){e.value="",l.value="",n="",r.innerHTML='<p style="color: #ced4da">請選擇</p>';return}f()}))});function f(){let u=[],a={};a.checkIn=l.value,a.checkOut=e.value,a.roomType=n,console.log(a),u.push(a);let o=JSON.stringify(u);console.log(o),sessionStorage.setItem("indexBooking",o),n=="經典房"&&g("./bookingClassicProcess_1.html"),n=="精緻房"&&g("./bookingDelicateProcess_1.html"),n=="豪華房"&&g("./bookingLuxProcess_1.html")}let v=new Date,h=v.getFullYear();console.log(h);console.log(v.getDate());console.log(v.getMonth()+1);let m=`${h}-${v.getMonth()+1}-${v.getDate()}`;console.log(m);flatpickr("#checkIn",{enableTime:!1,dateFormat:"Y-m-d",minDate:m,maxDate:"2024-02-29"});flatpickr("#checkOut",{enableTime:!1,dateFormat:"Y-m-d",minDate:m,maxDate:"2024-02-29"});
