import{a as I,_ as b}from"./config-b31ac0c6.js";import{i as p}from"./navbar-da03776d.js";import"./aside-2c6a0e4f.js";const B=document.querySelectorAll("#memberData");B.forEach(t=>{t.classList.add("onThisPage")});const f=document.querySelector("#navAside");f.classList.remove("d-none");const x=JSON.parse(localStorage.getItem("userTokenAndData")),{accessToken:A,user:C}=x,L=document.getElementById("signout"),c=document.getElementById("editMember");function $(){const t=C.id;I.get(`${b}/600/users/${t}`,{headers:{authorization:`Bearer ${A}`}}).then(e=>{const{name:o,gender:n,birthday:s,address:d,phone:m,email:a,userPhoto:r}=e.data,i=document.getElementById("name"),l=document.getElementById("gender"),g=document.getElementById("birthday"),u=document.getElementById("address"),h=document.getElementById("phone"),y=document.getElementById("email"),D=document.getElementById("photo"),E=()=>n==="male"?"男 ":n==="female"?"女 ":n==="other"?"其他 ":"未定義";console.log(o,n,s,d,m,a,r),i.textContent=o,l.textContent=`性別： ${E()}`,g.textContent=`生日： ${s}`,u.textContent=`地址： ${d}`,h.textContent=`電話： ${m}`,y.textContent=`信箱：${a}`,D.setAttribute("src",r||"https://i.imgur.com/rUTLxZC.jpg")}).catch(e=>{console.log(e),alert(e),window.location.href="./login.html"})}$();L.addEventListener("click",()=>{localStorage.removeItem("userTokenAndData"),window.location.href="./index.html"});c.addEventListener("click",t=>{t.preventDefault();const e=c.getAttribute("href");p(e)});
