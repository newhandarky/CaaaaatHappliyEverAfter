import{a as u,_ as d}from"./config-b31ac0c6.js";import"./navbar-da03776d.js";import{S as m}from"./sweetalert2.all-b0ac47b5.js";import"./aside-2c6a0e4f.js";const s=document.querySelector("#chooseFirstCat"),i=document.querySelector("#chooseSecondCat"),p=document.querySelector("#chooseThirdCat"),S=document.querySelector(".remark"),v=document.querySelector(".toProcess_3");let y=JSON.parse(localStorage.getItem("userTokenAndData")),r=y.user.id;console.log(r);u.get(`${d}/cats?userId=${r}`).then(function(f){let t=f.data,n=[];t.forEach(function(c){n.push(c.catName)}),console.log(n);let e='<option value="" disabled selected>請選擇貓咪</option>';n.forEach(function(c){let a=`<option value=${c}>${c}</option> `;e+=a}),s.innerHTML=e;let l=[];s.addEventListener("change",function(c){n.forEach(function(o){s.value!==o&&l.push(o)}),console.log(l);let a='<option value="" >請選擇貓咪</option>';l.forEach(function(o){let g=`<option value=${o}>${o}</option> `;a+=g}),i.innerHTML=a});let h=[];i.addEventListener("change",function(c){let a='<option value="" >請選擇貓咪</option>';l.forEach(function(o){i.value!==o&&h.push(o)}),console.log(h),h.forEach(function(o){let g=`<option value=${o}>${o}</option> `;a+=g}),p.innerHTML=a})});v.addEventListener("click",function(f){f.preventDefault();let t={};if(t.remark=S.value,t.catId=[],console.log(t),s.value==="")return m.fire("請選擇貓咪");{let n=s.value;u.get(`${d}/cats?userId=${r}&catName=${n}`).then(function(e){console.log(e.data[0].id),t.catId.push(e.data[0].id),console.log(JSON.stringify(t)),sessionStorage.setItem("catInfo",JSON.stringify(t)),window.location.href="./bookingProcess_3.html"})}if(i.value!=""){{let n=i.value;u.get(`${d}/cats?userId=${r}&catName=${n}`).then(function(e){console.log(e.data[0].id),t.catId.push(e.data[0].id),console.log(JSON.stringify(t)),sessionStorage.setItem("catInfo",JSON.stringify(t)),window.location.href="./bookingProcess_3.html"})}if(p.value!=""){let n=p.value;u.get(`${d}/cats?userId=${r}&catName=${n}`).then(function(e){console.log(e.data[0].id),t.catId.push(e.data[0].id),console.log(JSON.stringify(t)),sessionStorage.setItem("catInfo",JSON.stringify(t)),window.location.href="./bookingProcess_3.html"})}}});
