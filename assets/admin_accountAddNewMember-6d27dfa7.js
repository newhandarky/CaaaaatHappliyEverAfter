import{a as o,_ as r,S as t}from"./sweetalert2.all-203b6da2.js";import"./admin_header-cdcf5a9d.js";import{h as a}from"./admin_config-2cf1d757.js";import{r as s}from"./loginIsTimeUp-b8b3d4c8.js";const u=document.querySelector(".memberId"),l=document.querySelector(".memberName"),i=document.querySelector(".memberNickname"),d=document.querySelector(".memberTel"),b=document.querySelector(".memberArrivedDate"),f=document.querySelector(".memberEmergencyContact"),p=document.querySelector(".memberEmergencyContactTel"),y=document.querySelector(".memberEmergencyContactRel"),h=document.querySelector(".memberAccount"),w=document.querySelector(".memberPassword"),C=document.querySelector(".memberAddress"),S=document.querySelector(".memberStatus"),g=document.querySelector(".cancelNewMemberBtn"),v=document.querySelector(".memeberAddForm");o.get(`${r}/660/users`,a).catch(function(e){s(e.response.data)});g.addEventListener("click",function(e){e.preventDefault(),t.fire({title:"是否要取消新增",icon:"warning",showCancelButton:!0,confirmButtonColor:"#20c997",cancelButtonColor:"#dc3545",confirmButtonText:'<span class="text-white fs-4 px-1">是</span>',cancelButtonText:'<span class="text-white fs-4 px-1">否</span>'}).then(n=>{n.isConfirmed&&(t.fire({title:"已取消新增",icon:"success",showConfirmButton:!1}),setTimeout(()=>{window.location.href="./admin_account.html"},1e3))})});v.addEventListener("submit",function(e){e.preventDefault();let n={email:h.value,password:w.value,name:l.value,gender:"",birthday:"",phone:d.value,address:C.value,userPhoto:"https://i.imgur.com/rUTLxZC.jpg",nickname:i.value,joinDate:b.value,emergencyContactPerson:f.value,emergencyContactPhone:p.value,emergencyContactRelation:y.value,memberStatus:S.value,lastLoginTime:"",role:"admin",id:parseInt(u.value)};t.fire({title:"是否確定新增",icon:"warning",showCancelButton:!0,confirmButtonColor:"#20c997",cancelButtonColor:"#dc3545",confirmButtonText:'<span class="text-white fs-4 px-1">是</span>',cancelButtonText:'<span class="text-white fs-4 px-1">否</span>'}).then(c=>{c.isConfirmed&&(o.post(`${r}/users`,n).catch(function(m){console.log(m.response.data)}),t.fire({title:"後台人員新增成功",icon:"success",showConfirmButton:!1}),setTimeout(()=>{window.location.href="./admin_account.html"},1e3))})});
